{"ast":null,"code":"import _classCallCheck from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/yasodar/web-projects/jwtauth/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/yasodar/web-projects/jwtauth/frontend/src/components/OrderDetails.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux'; //import logo from '../images/pos.png';\n\n/* Product */\n\nvar Product =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Product, _Component);\n\n  function Product(props) {\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Product).call(this, props));\n    _this.state = {\n      qty: _this.props.quantity\n    };\n    _this.add = _this.add.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.subtract = _this.subtract.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showInfo = _this.showInfo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"add\",\n    value: function add() {\n      this.setState({\n        qty: this.state.qty + 1\n      });\n      this.props.handleTotal(this.props.price);\n      console.log(this.state.qty);\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      this.setState({\n        qty: this.state.qty - 1\n      });\n      this.props.handleTotal(-this.props.price);\n    }\n  }, {\n    key: \"showInfo\",\n    value: function showInfo() {\n      this.props.handleShow(this.props.info);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.props.name, \": $\", this.props.price)), React.createElement(\"div\", {\n        className: \"col-sm-2 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"qty: \", this.state.qty)), React.createElement(\"div\", {\n        className: \"row btn-toolbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: this.showInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"show info\")), React.createElement(\"div\", {\n        className: \"col-6 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"+1\"), React.createElement(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: this.subtract,\n        disabled: this.state.qty < 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"-1\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Product;\n}(Component);\n/* Total */\n\n\nvar Total =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Total, _Component2);\n\n  function Total() {\n    _classCallCheck(this, Total);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Total).apply(this, arguments));\n  }\n\n  _createClass(Total, [{\n    key: \"render\",\n    // constructor(props) {\n    //   super(props);\n    // }\n    value: function render() {\n      var total = this.props.total.toFixed(2);\n      var tax = (this.props.total * 0.15).toFixed(2);\n      var totalIncTax = (+total + +tax).toFixed(2);\n      var mystyle = {\n        borderTop: \"1px solid #ddd\",\n        marginTop: \"10px\"\n      };\n      return React.createElement(\"div\", {\n        style: {\n          \"marginTop\": \"30px\",\n          \"backgroundColor\": \"#F6F6F6\",\n          \"padding\": \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"row\",\n        style: {\n          fontWeight: 400\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"total price:\"), React.createElement(\"span\", {\n        className: \"col-6 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"$\", total)), React.createElement(\"h3\", {\n        className: \"row\",\n        style: {\n          fontWeight: 400\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"tax (15%):\"), React.createElement(\"span\", {\n        className: \"col-6 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"$\", tax)), React.createElement(\"h3\", {\n        className: \"row\",\n        style: mystyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"tota inc tax:\"), React.createElement(\"span\", {\n        className: \"col-6 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"$\", totalIncTax)));\n    }\n  }]);\n\n  return Total;\n}(Component);\n/* ProductForm */\n\n\nvar ProductForm =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(ProductForm, _Component3);\n\n  function ProductForm() {\n    _classCallCheck(this, ProductForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProductForm).apply(this, arguments));\n  }\n\n  _createClass(ProductForm, [{\n    key: \"submit\",\n    value: function submit(e) {\n      e.preventDefault();\n      var product = {\n        name: this.refs.name.value,\n        price: Number(this.refs.price.value),\n        info: this.refs.info.value\n      };\n      console.log(this.refs.name.value, this.refs.price.value);\n      this.props.handleProduct(product);\n      this.refs.name.value = \"\";\n      this.refs.price.value = 0;\n      this.refs.info.value = \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.submit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Add to Cart\"), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2  col-sm-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"name:\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        ref: \"name\",\n        placeholder: \"e.g.) android\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2  col-sm-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"price:\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        ref: \"price\",\n        placeholder: \"e.g.) 100\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2  col-sm-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"info:\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        ref: \"info\",\n        placeholder: \"e.g.) product of google\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"offset-2 col-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"create product\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProductForm;\n}(Component);\n/* ProductList */\n\n\nvar ProductList =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(ProductList, _Component4);\n\n  function ProductList(props) {\n    var _this2;\n\n    _classCallCheck(this, ProductList);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ProductList).call(this, props));\n    _this2.state = {\n      total: 0,\n      productList: \"\",\n      products: {}\n    }; //this.props.name='yasod'\n    //console.log(this.props.auth);\n\n    _this2.createProduct = _this2.createProduct.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    _this2.calculateTotal = _this2.calculateTotal.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    _this2.showProduct = _this2.showProduct.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(ProductList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      if (!this.props.auth.isAuthenticated) {\n        this.props.history.push('/login');\n      } else {\n        setTimeout(function () {\n          // axios.post('/search/order',{})\n          // .then(res => {\n          //     this.setState({productList:res.data});\n          //     console.log(this.state.productList);\n          // })\n          // .catch(err => {\n          //     console.log('error occured!'); \n          // });\n          // console.log('timeout');\n          //this.setState({ productList: productList });\n          axios.post('/search/individual', {\n            id: _this3.props.auth.user.id,\n            _id: _this3.props.match.params.id\n          }).then(function (res) {\n            console.log(_this3.props.match.params.id);\n\n            _this3.setState({\n              productList: res.data[0].products\n            });\n\n            _this3.setState({\n              total: res.data[0].total\n            }); //console.log(res.data);\n\n          }).catch(function (err) {\n            console.log('error occured!');\n          });\n        }, 100);\n      }\n    }\n  }, {\n    key: \"createProduct\",\n    value: function createProduct(product) {\n      this.setState({\n        product: this.state.productList.push(product)\n      });\n      console.log(this.state.productList);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal(price) {\n      this.setState({\n        total: this.state.total + price\n      });\n      console.log(this.state.total);\n    }\n  }, {\n    key: \"showProduct\",\n    value: function showProduct(info) {\n      console.log(info);\n      alert(info);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.productList) return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"loading...!!!!\");\n      var component = this;\n      var products = this.state.productList.map(function (product) {\n        return React.createElement(Product, {\n          name: product.name,\n          price: product.price,\n          info: product.info,\n          quantity: product.quantity,\n          handleShow: component.showProduct,\n          handleTotal: component.calculateTotal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(ProductForm, {\n        handleProduct: this.createProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), products, React.createElement(Total, {\n        total: this.state.total,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProductList;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(ProductList));","map":{"version":3,"sources":["/home/yasodar/web-projects/jwtauth/frontend/src/components/OrderDetails.js"],"names":["axios","React","Component","withRouter","connect","Product","props","state","qty","quantity","add","bind","subtract","showInfo","setState","handleTotal","price","console","log","handleShow","info","name","Total","total","toFixed","tax","totalIncTax","mystyle","borderTop","marginTop","fontWeight","ProductForm","e","preventDefault","product","refs","value","Number","handleProduct","submit","ProductList","productList","products","createProduct","calculateTotal","showProduct","auth","isAuthenticated","history","push","setTimeout","post","id","user","_id","match","params","then","res","data","catch","err","alert","component","map","mapStateToProps"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n//import logo from '../images/pos.png';\n\n  \n  /* Product */\n  class Product extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        qty: this.props.quantity\n      };\n      this.add = this.add.bind(this);\n      this.subtract = this.subtract.bind(this);\n      this.showInfo = this.showInfo.bind(this);\n    }\n  \n    add() {\n      this.setState({\n        qty: this.state.qty + 1\n      });\n      this.props.handleTotal(this.props.price);\n      console.log(this.state.qty);\n    }\n  \n    subtract() {\n      this.setState({\n        qty: this.state.qty - 1\n      });\n      this.props.handleTotal(-this.props.price);\n    }\n  \n    showInfo() {\n      this.props.handleShow(this.props.info);\n    }\n  \n    render() {\n    \n      return (\n        <div>\n          <div className=\"row form-group\">\n            <div className=\"col-sm-10\">\n              <h4>{this.props.name}: ${this.props.price}</h4>\n            </div>\n            <div className=\"col-sm-2 text-right\">qty: {this.state.qty}</div>\n          </div>\n          <div className=\"row btn-toolbar\">\n            <div className=\"col-6\">\n              <button className=\"btn btn-outline-primary\" onClick={this.showInfo}>\n                show info\n              </button>\n            </div>\n            <div className=\"col-6 text-right\">\n              <button className=\"btn btn-outline-primary\" onClick={this.add}>\n                +1\n              </button>\n              <button className=\"btn btn-outline-primary\" onClick={this.subtract} disabled={this.state.qty < 1}>\n                -1\n              </button>\n            </div>\n          </div>\n          <hr />\n        </div>\n      );\n    }\n  }\n  \n  /* Total */\n  class Total extends Component {\n    // constructor(props) {\n    //   super(props);\n    // }\n    render() {\n      let total = this.props.total.toFixed(2);\n      let tax = (this.props.total * 0.15).toFixed(2);\n      let totalIncTax = (+total + +tax).toFixed(2);\n      let mystyle = {\n        borderTop: \"1px solid #ddd\",\n        marginTop: \"10px\"\n      };\n      return (\n        <div style={{\"marginTop\": \"30px\", \"backgroundColor\":\"#F6F6F6\",\"padding\": \"10px\"}}>\n          <h3 className=\"row\" style={{ fontWeight: 400 }}>\n            <span className=\"col-6\">total price:</span>\n            <span className=\"col-6 text-right\">${total}</span>\n          </h3>\n          <h3 className=\"row\" style={{ fontWeight: 400 }}>\n            <span className=\"col-6\">tax (15%):</span>\n            <span className=\"col-6 text-right\">${tax}</span>\n          </h3>\n          <h3 className=\"row\" style={mystyle}>\n            <span className=\"col-6\">tota inc tax:</span>\n            <span className=\"col-6 text-right\">${totalIncTax}</span>\n          </h3>\n  \n        </div>\n      );\n    }\n  }\n  \n  /* ProductForm */\n  class ProductForm extends Component {\n    submit(e) {\n      e.preventDefault();\n      var product = {\n        name: this.refs.name.value,\n        price: Number(this.refs.price.value),\n        info: this.refs.info.value\n      };\n      console.log(this.refs.name.value, this.refs.price.value);\n      this.props.handleProduct(product);\n      this.refs.name.value = \"\";\n      this.refs.price.value = 0;\n      this.refs.info.value = \"\";\n    }\n  \n    render() {\n      return (\n        <form onSubmit={this.submit.bind(this)}>\n          <h3>Add to Cart</h3>\n          <div className=\"row form-group\">\n            <label className=\"col-sm-2  col-sm-form-label\">name:</label>\n            <div className=\"col-sm-10\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                ref=\"name\"\n                placeholder=\"e.g.) android\"\n                required\n              />\n            </div>\n          </div>\n  \n          <div className=\"row form-group\">\n            <label className=\"col-sm-2  col-sm-form-label\">price:</label>\n            <div className=\"col-sm-10\">\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                ref=\"price\"\n                placeholder=\"e.g.) 100\"\n                required\n              />\n            </div>\n          </div>\n  \n          <div className=\"row form-group\">\n            <label className=\"col-sm-2  col-sm-form-label\">info:</label>\n            <div className=\"col-sm-10\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                ref=\"info\"\n                placeholder=\"e.g.) product of google\"\n              />\n            </div>\n          </div>\n  \n          <div className=\"row form-group\">\n            <div className=\"offset-2 col-10\">\n              <button className=\"btn btn-outline-primary\">create product</button>\n            </div>\n          </div>\n  \n          <hr />\n        </form>\n      );\n    }\n  }\n  \n  /* ProductList */\n  class ProductList extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = {\n        total: 0,\n        productList: \"\",\n        products:{}\n      };\n\n        //this.props.name='yasod'\n        //console.log(this.props.auth);\n       \n      this.createProduct = this.createProduct.bind(this);\n      this.calculateTotal = this.calculateTotal.bind(this);\n      this.showProduct = this.showProduct.bind(this);\n    }\n  \n    componentDidMount() {\n        if(!this.props.auth.isAuthenticated) {\n            this.props.history.push('/login');\n        }\n        else{\n        setTimeout(() => {\n            // axios.post('/search/order',{})\n            // .then(res => {\n            //     this.setState({productList:res.data});\n            //     console.log(this.state.productList);\n            // })\n            // .catch(err => {\n            //     console.log('error occured!'); \n            // });\n            // console.log('timeout');\n            //this.setState({ productList: productList });\n            \n            axios.post('/search/individual',{\n\n                id:this.props.auth.user.id,\n                _id:this.props.match.params.id\n                })\n            .then(res => {\n                console.log(this.props.match.params.id);\n                this.setState({productList:res.data[0].products});\n                this.setState({total:res.data[0].total});\n                //console.log(res.data);\n            })\n            .catch(err => {\n                console.log('error occured!'); \n            });\n        \n        }, 100);\n        }\n\n    \n        \n    \n    }\n  \n    createProduct(product) {\n      this.setState({\n        product: this.state.productList.push(product)\n      });\n      console.log(this.state.productList);\n    }\n  \n    calculateTotal(price) {\n      this.setState({\n        total: this.state.total + price\n      });\n      console.log(this.state.total);\n    }\n  \n    showProduct(info) {\n      console.log(info);\n      alert(info);\n    }\n  \n    render() {\n      if (!this.state.productList) return <p>loading...!!!!</p>;\n  \n      var component = this;\n      var products = this.state.productList.map(function(product) {\n        return (\n          <Product\n            name={product.name}\n            price={product.price}\n            info={product.info}\n            quantity={product.quantity}\n            handleShow={component.showProduct}\n            handleTotal={component.calculateTotal}\n          />\n        );\n      });\n  \n      return (\n        <div>\n          <ProductForm handleProduct={this.createProduct} />\n          {products}\n          <Total total={this.state.total} />\n        </div>\n      );\n    }\n  }\n  \n  const mapStateToProps = (state) => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps)( withRouter(ProductList));"]},"metadata":{},"sourceType":"module"}